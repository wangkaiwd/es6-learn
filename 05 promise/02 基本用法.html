<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // ES6规定，promise对象是一个构造函数，用来生成promise
        // 创造promise实例伪代码：
        // let promise = new Promise(function(resolve,reject){
        //     // ...some code
        //     if(/*异步操作成功*/){
        //         resolve(value);
        //     }
        //     else {
        //         reject(error);
        //     }
        // });
        // resolve和reject是函数
        // resolve:在异步操作成功时调用，并将异步操作的结果作为参数传递出去
        // reject:在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去

        // promise实例生成以后，可以用then方法分别指定resolved状态和reject状态
        // 的回调函数
        // promise.then(function(value){
        //     // success

        // },function(error){
        //     // failure
        // })

        // then方法可以接收俩个回调函数作为参数。第一个回调函数是promise对象的状态
        // 变为resolved时调用（成功时的回调），第二个回调函数是promise对象的状态变为reject时调用（失败时的回调）

        // promise对象的简单例子
        // function timeout(ms) {
        //     return new Promise((resolve,reject)=>{
        //         setTimeout(resolve,ms,'done');
        //     });
        // }
        // 调用函数
        // timeout(1000).then((value)=>{
        //     console.log(value);
        // });

        // Promise新建后就会立即执行
        // let promise = new Promise(function(resolve,reject){
        //     console.log('Promise');
        //     resolve();
        // });
        // then方法指定的回调函数，将在当前脚本所有同步任务执行完才会执行，
        // 所以"Resolved"最后输出
        // promise.then(function(){
        //     console.log('Resolved.');
        // });

        // console.log('Hi!');
        
    </script>
</body>
</html>